import{a as l}from"/build/_shared/chunk-K3LLJEF6.js";import{a as S,b as d}from"/build/_shared/chunk-BVJBT3X3.js";import{d as c}from"/build/_shared/chunk-T36URGAI.js";var a=c(S(),1),e=c(d(),1),j=(0,a.lazy)(()=>import("/build/_shared/ProjectSummary-KLWJLAM6.js")),x=(0,a.lazy)(()=>import("/build/_shared/Invoiced-LEPKAUF7.js")),w=(0,a.lazy)(()=>import("/build/_shared/ActionItems-4TIIHXPH.js")),N=(0,a.lazy)(()=>import("/build/_shared/SummaryPercentages-LU2EJ4PK.js")),P=(0,a.lazy)(()=>import("/build/_shared/WorkInprogress-BYPI2M5M.js")),I=(0,a.lazy)(()=>import("/build/_shared/RecentPhtotos-JNJ4XZVN.js")),L=(0,a.lazy)(()=>import("/build/_shared/Schedular-FLUPV2LC.js")),k=(0,a.lazy)(()=>import("/build/_shared/Top-Q26SQZEY.js")),D=()=>[{title:"Project Dashboard"},{name:"description",content:"Project management dashboard"}];function m({projectId:p,userId:s,compId:r}){let[o,u]=(0,a.useState)(null),[g,i]=(0,a.useState)(!0);console.log("projectID",p),console.log("userId",s),console.log("compId",r);let f=async()=>{try{o&&i(!1);let t=new FormData;t.append("op","get_project_detail"),t.append("project_id",p),t.append("is_refresh","0"),t.append("record_type","project"),t.append("version","web"),t.append("from","panel"),t.append("iframe_call","0"),t.append("tz","+5:30"),t.append("tzid","Asia/Calcutta"),t.append("curr_time",new Date().toISOString()),t.append("force_login","0"),t.append("global_project",""),t.append("user_id",s),t.append("company_id",r);let h=(await l.post(`https://api-cfdev.contractorforeman.net/service.php?opp=get_project_detail&c=${Number(r)}&u=${Number(s)}&p=manage_projects`,t))?.data?.data;u(h),i(!1)}catch(t){console.error("Error fetching data:",t),i(!1)}};if((0,a.useEffect)(()=>{setTimeout(()=>{f()},500)},[]),g)return(0,e.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});if(!o)return(0,e.jsx)("div",{className:"flex justify-center items-center h-screen",children:"No data available"});let{project_summary:v,wip_widget:_,customer_additional_contacts:b,billing_vs_actual:y}=o,n="bg-white border rounded-md hover:shadow-lg transition-shadow duration-500";return(0,e.jsxs)("div",{className:"space-y-4 p-4 overflow-y-auto sidebar",children:[(0,e.jsx)("div",{className:"w-full",children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Project topbar..."}),children:(0,e.jsx)(k,{data:y})})}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-3",children:[(0,e.jsx)("div",{className:`${n} p-4`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Project Summary..."}),children:(0,e.jsx)(j,{data:v})})}),(0,e.jsx)("div",{className:`${n} px-4 pt-4`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Summary Percentages..."}),children:(0,e.jsx)(N,{data:o})})}),(0,e.jsx)("div",{className:`${n} px-4 pt-4`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Action Items..."}),children:(0,e.jsx)(w,{projectId:p,userId:s,compId:r})})}),(0,e.jsx)("div",{children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Invoiced..."}),children:(0,e.jsx)(x,{data:o,customer_additional_contacts:b})})}),(0,e.jsx)("div",{className:`${n} px-4 pb-2 lg:pt-4`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Work In Progress..."}),children:(0,e.jsx)(P,{data:_})})}),(0,e.jsx)("div",{className:`${n} p-4`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Recent Photos..."}),children:(0,e.jsx)(I,{data:o})})})]}),(0,e.jsx)("div",{className:`${n} px-4 h-60`,children:(0,e.jsx)(a.Suspense,{fallback:(0,e.jsx)("p",{children:"Loading Scheduler..."}),children:(0,e.jsx)(L,{projectId:p,userId:s,compId:r})})})]})}export{m as default,D as meta};
