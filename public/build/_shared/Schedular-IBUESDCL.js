import{a as m}from"/build/_shared/chunk-K3LLJEF6.js";import{m as h}from"/build/_shared/chunk-OF7TX32X.js";import{a as g}from"/build/_shared/chunk-GLL77XL4.js";import"/build/_shared/chunk-DGA7IYTA.js";import"/build/_shared/chunk-L4JQJ63A.js";import{a as w,b as f}from"/build/_shared/chunk-BVJBT3X3.js";import{d as s}from"/build/_shared/chunk-T36URGAI.js";var n=s(w(),1);var r=s(f(),1),D=()=>{let[l,_]=(0,n.useState)([]),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let p=async()=>{try{let t=new FormData;t.append("op","get_schedule_calendar_events"),t.append("project_id","147534"),t.append("for","dashboard_summary"),t.append("start_date_range","2024-9-01 00:00:00"),t.append("version","web"),t.append("from","panel"),t.append("iframe_call","0"),t.append("tz","+5:30"),t.append("tzid","Asia/Calcutta"),t.append("curr_time","2024-08-31 15:50:38"),t.append("force_login","0"),t.append("global_project",""),t.append("user_id","109871"),t.append("company_id","829");let c=await m.post("https://api-cfdev.contractorforeman.net/service.php?opp=get_schedule_calendar_events&c=829&u=109871&p=manage_projects",t);_(c?.data?.data?.modules)}catch(t){console.log("Error fetching data:",t)}},e=setTimeout(()=>{p()},500);return()=>{clearTimeout(e)}},[]),(0,n.useEffect)(()=>((async()=>{let e=(await import("/build/_shared/dhtmlxscheduler.es-MI5VYV75.js")).default;if(o.current){e.config.header=["date","prev","today","next"],e.config.multi_day=!1,e.config.first_hour=0,e.config.last_hour=24,e.config.scale_width=0,e.config.readonly=!0,e.config.drag_resize=!1,e.config.drag_move=!1,e.xy.scale_width=0,e.config.responsive=!0,e.config.left_border=!1;let t=()=>(window.innerWidth<768?(e.config.header=["date","prev","next"],e.xy.scale_width=30):(e.config.header=["date","prev","today","next"],e.xy.scale_width=50),o.current&&e.updateView(),!0),c=new Date;e.init(o.current,c,"week"),e.parse(l),t(),e.attachEvent("onBeforeViewChange",t),e.attachEvent("onSchedulerResize",t),e.templates.event_class=function(a,i,d){return d.classname||""},e.templates.week_scale_date=function(a){return e.date.date_to_str("%D, %F %j")(a)},e.ignore_week=function(a){if(a.getDay()===0||a.getDay()===6)return!0},e.templates.week_date=function(a){let i=e.date.add(a,6,"day"),d=u=>{let y=u.getDate()-1,v=u.toLocaleString("default",{month:"short"});return`${y} ${v}`};return`Sun, ${d(a)} ${a.getFullYear()} - Sat, ${d(i)} ${i.getFullYear()}`},window.addEventListener("resize",t)}})(),()=>{import("/build/_shared/dhtmlxscheduler.es-MI5VYV75.js").then(e=>e.default.clearAll())}),[l]),(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsx)("div",{className:"lg:absolute mt-4 lg:mt-0 lg:top-4 z-50 ",children:(0,r.jsx)(g,{icon:h,label:"Schedule",bgColor:"#ECF3FF",color:"#78AEFE"})}),(0,r.jsx)("div",{ref:o,style:{width:"100%",height:"100%"}})]})},A=D;export{A as default};
